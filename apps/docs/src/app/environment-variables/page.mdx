import Link from 'next/link'
import { RevalidateEnvDescription } from './revalidate-env-description'
import { EnvCodeBlock } from '@/components/env-code-block'
export const metadata = {
  title: 'Environment Variables',
  description: 'Environment variables used by @nextwp/core',
}

export const sections = [
  { title: 'Example .env.local', id: 'example-env-local' },
]

# Environment Variables

Properly configuring environment variables is crucial for enabling the NextWP to WordPress connection. These variables facilitate secure communication and access to specific WordPress functionalities.

- **Setup for Local and Production Environments**: Set these variables in a `.env.local` file in your project's root for local development. For production, configure them in your hosting provider's environment settings.
- **Application Password for Enhanced Access**: Generate this in WordPress (Users > Your Profile > Application Passwords) to securely access extended features like menus and site settings.
- **Align Preview and Revalidate Secrets**: Ensure these match the corresponding values in your WordPress's [NextWP Toolkit](/packages/wordpress/nextwp-toolkit-plugin) plugin settings, crucial for draft mode previews and on-demand revalidation.

Remember to handle these variables, especially in production environments, with strict security measures to prevent unauthorized access.

## Example .env.local

You can quickly copy these randomly generated example variables to your `.env.local`. Make sure to enter the same values in your WordPress's [NextWP Toolkit](/packages/wordpress/nextwp-toolkit-plugin) plugin settings.

<EnvCodeBlock />

## Environment Variables {{ anchor: false}}

<Properties>
  <Property name="NEXT_SITE_URL" type="string">
    The URL of your frontend site. <br />
    Example: `https://example.com`
  </Property>
  <Property name="NEXT_PUBLIC_WP_URL" type="string">
    The URL of your WordPress site used to fetch the WP REST API. <br />
    Example: `https://example-wordpress.com`
  </Property>
  <Property name="WP_APPLICATION_PASSWORD" type="string">
    The application password used to authenticate with WordPress when fetching
    things like menus, site settings and options pages. <br />
    You can generate an application password in WordPress admin dashboard under Users
    {'>'} Your Profile > Application Passwords. <br />
    Example: `username: IXdM LkSK EysQ F5Cs 9TbA pvvt`
  </Property>
  <Property name="NEXT_PREVIEW_SECRET" type="string">
    The secret used to authenticate WordPress page previews to the Next.js draft
    mode preview route. <br />
    This should match the value set for preview secret in the <Link href="/packages/wordpress/nextwp-toolkit-plugin">
      NextWP Toolkit Plugin
    </Link> settings.
  </Property>
  <Property name="REVALIDATE_SECRET_KEY" type="string">
    <RevalidateEnvDescription />
  </Property>
</Properties>
